<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard CEDESP Dom Bosco Itaquera â€” 1Âº Semestre 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  :root {
    --bg: #f4f6fb;
    --surface: #ffffff;
    --surface2: #eef1f8;
    --border: #d0d8ea;
    --text: #1a2340;
    --text-muted: #5c6b8a;
    --accent: #21438e;
    --accent2: #e63827;
    --green: #1a7a3e;
    --red: #e63827;
    --orange: #c97c1a;
    --purple: #21438e;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  header {
    border-bottom: 1px solid var(--border);
    padding: 0 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 72px;
    position: sticky;
    top: 0;
    background: #21438e;
    box-shadow: 0 2px 8px rgba(33,67,142,0.18);
    backdrop-filter: blur(12px);
    z-index: 100;
  }

  .logo { display: flex; align-items: center; gap: 12px; }

  .logo-mark {
    width: 36px; height: 36px;
    background: #e63827;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-family: 'JetBrains Mono', monospace;
    font-weight: 500; color: #ffffff; font-size: 13px; letter-spacing: -0.5px;
  }

  .logo-text {
    font-family: 'Poppins', sans-serif;
    font-size: 18px; letter-spacing: -0.3px; color: #ffffff;
  }
  .logo-text span { color: #e63827; }

  .header-meta {
    display: flex; align-items: center; gap: 24px;
  }

  .hm-item { text-align: right; }
  .hm-val {
    font-family: 'JetBrains Mono', monospace;
    font-size: 20px; font-weight: 600; color: #ffffff;
    letter-spacing: -0.5px;
  }
  .hm-label {
    font-size: 11px; color: rgba(255,255,255,0.70); margin-top: 1px;
  }

  main { max-width: 1280px; margin: 0 auto; padding: 32px 40px 60px; }

  .section-header {
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 20px; margin-top: 36px;
  }
  .section-header:first-child { margin-top: 0; }
  .section-title {
    font-family: 'Poppins', sans-serif;
    font-size: 18px; letter-spacing: -0.3px; white-space: nowrap;
  }
  .section-line { flex: 1; height: 1px; background: var(--border); }
  .section-badge {
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px; color: var(--text-muted);
    border: 1px solid var(--border); padding: 3px 10px; border-radius: 20px;
    white-space: nowrap;
  }

  .kpi-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 8px;
  }

  .kpi-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 20px 24px;
    position: relative;
    overflow: hidden;
  }

  .kpi-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
  }
  .kpi-card.gold::before   { background: #21438e; }
  .kpi-card.blue::before   { background: #e63827; }
  .kpi-card.green::before  { background: #1a7a3e; }
  .kpi-card.purple::before { background: #21438e; }

  .kpi-label {
    font-size: 11px; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.6px; margin-bottom: 8px;
  }
  .kpi-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 36px; font-weight: 500;
    letter-spacing: -1px; line-height: 1;
    margin-bottom: 4px;
  }
  .kpi-sub { font-size: 12px; color: var(--text-muted); }

  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }

  .chart-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 24px;
  }
  .chart-title {
    font-family: 'Poppins', sans-serif;
    font-size: 15px; margin-bottom: 4px;
  }
  .chart-sub { font-size: 12px; color: var(--text-muted); margin-bottom: 20px; }

  .table-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
  }
  .table-header {
    padding: 20px 24px 16px;
    border-bottom: 1px solid var(--border);
  }
  .table-title {
    font-family: 'Poppins', sans-serif;
    font-size: 16px;
  }
  .table-sub { font-size: 12px; color: var(--text-muted); margin-top: 2px; }

  table { width: 100%; border-collapse: collapse; }
  thead th {
    padding: 10px 24px;
    text-align: left;
    font-size: 11px; font-weight: 500;
    text-transform: uppercase; letter-spacing: 0.5px;
    color: #ffffff;
    background: #21438e;
    border-bottom: 1px solid #1a3570;
  }
  th.right, td.right { text-align: right; }
  tbody tr { border-bottom: 1px solid var(--border); transition: background 0.15s; }
  tbody tr:last-child { border-bottom: none; }
  tbody tr:hover { background: var(--surface2); }
  td { padding: 14px 24px; font-size: 14px; }
  td.mono { font-family: 'JetBrains Mono', monospace; font-size: 13px; }

  .unit-name { display: flex; align-items: center; gap: 10px; font-weight: 500; }
  .unit-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }

  .prog-wrap { display: flex; align-items: center; gap: 10px; }
  .prog-bar {
    flex: 1; height: 6px;
    background: var(--surface2);
    border-radius: 3px; overflow: hidden;
  }
  .prog-fill { height: 100%; border-radius: 3px; transition: width 0.6s ease; }
  .prog-pct { font-family: 'JetBrains Mono', monospace; font-size: 12px; min-width: 46px; }

  .saldo-pill {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px; padding: 3px 10px;
    border-radius: 20px; font-weight: 500;
  }
  .saldo-pill.pos { background: rgba(26,122,62,0.12); color: #1a7a3e; }
  .saldo-pill.neg { background: rgba(230,56,39,0.10); color: #e63827; }

  .horario-grid {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 12px; margin-bottom: 8px;
  }
  .horario-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px; padding: 20px 24px;
  }
  .horario-badge {
    display: inline-block;
    font-size: 11px; font-weight: 600; letter-spacing: 0.5px;
    padding: 4px 12px; border-radius: 20px;
    margin-bottom: 16px;
  }
  .badge-manha { background: rgba(33,67,142,0.12);  color: #21438e; }
  .badge-tarde  { background: rgba(230,56,39,0.12);  color: #e63827; }
  .badge-noite  { background: rgba(33,67,142,0.08);  color: #21438e; }

  .horario-nums {
    display: flex; justify-content: space-between; align-items: flex-end;
    margin-bottom: 12px;
  }
  .h-val  { font-family: 'JetBrains Mono', monospace; font-size: 28px; font-weight: 500; letter-spacing: -1px; }
  .h-label { font-size: 12px; color: var(--text-muted); margin-top: 2px; }
  .h-meta { font-size: 11px; color: var(--text-muted); text-align: right; }

  footer {
    border-top: 1px solid var(--border);
    padding: 20px 40px;
    display: flex; justify-content: space-between; align-items: center;
    margin-top: 40px;
  }
  .footer-text { font-size: 12px; color: var(--text-muted); }

  @media (max-width: 900px) {
    header, main, footer { padding-left: 20px; padding-right: 20px; }
    .two-col { grid-template-columns: 1fr; }
    .kpi-grid { grid-template-columns: 1fr 1fr; }
    .horario-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<header>
  <div class="logo">
    <div class="logo-mark">CD</div>
    <div class="logo-text">CEDESP <span>Dom Bosco</span> Itaquera</div>
  </div>
  <div class="header-meta">
    <div class="hm-item">
      <div class="hm-val">1,880</div>
      <div class="hm-label">Meta Total</div>
    </div>
    <div class="hm-item">
      <div class="hm-val">2,449</div>
      <div class="hm-label">MatrÃ­culas</div>
    </div>
    <div class="hm-item">
      <div class="hm-val" style="color:#4ade80">4/8</div>
      <div class="hm-label">Superaram a Meta</div>
    </div>
    <div style="width:1px;height:36px;background:var(--border);margin:0 4px"></div>
    <div class="hm-item">
      <div style="font-family:'DM Mono',monospace;font-size:12px;color:var(--text-muted);background:var(--surface2);border:1px solid var(--border);border-radius:6px;padding:6px 14px;text-align:center;line-height:1.5">
        ðŸ“… Ãšltima atualizaÃ§Ã£o<br>
        <span style="color:#21438e;font-size:13px;font-weight:600">26/02/2026 Ã s 10:52</span>
      </div>
    </div>
  </div>
</header>

<main>

  <div class="section-header">
    <div class="section-title">Indicadores Gerais</div>
    <div class="section-line"></div>
    <div class="section-badge">1Âº Semestre 2026</div>
  </div>

  <div class="kpi-grid">
    <div class="kpi-card gold">
      <div class="kpi-label">Meta Total ConvÃªnio</div>
      <div class="kpi-value" style="color:var(--accent)">1,880</div>
      <div class="kpi-sub">alunos planejados Â· 8 unidades</div>
    </div>
    <div class="kpi-card blue">
      <div class="kpi-label">Total MatrÃ­culas</div>
      <div class="kpi-value" style="color:var(--accent2)">2,449</div>
      <div class="kpi-sub">130.3% da meta total</div>
    </div>
    <div class="kpi-card green">
      <div class="kpi-label">Unidades Acima da Meta de Freq.</div>
      <div class="kpi-value" style="color:var(--green)">4</div>
      <div class="kpi-sub">de 8 unidades ativas</div>
    </div>
    <div class="kpi-card purple">
      <div class="kpi-label">Unidades Ativas</div>
      <div class="kpi-value" style="color:var(--purple)">8</div>
      <div class="kpi-sub">4 superaram a meta de frequÃªncia</div>
    </div>
  </div>

  <div class="section-header" style="margin-top:32px">
    <div class="section-title">AnÃ¡lise por Unidade</div>
    <div class="section-line"></div>
    <div class="section-badge">CEDESPs 1â€“8</div>
  </div>

  <div class="two-col">
    <div class="chart-card">
      <div class="chart-title">Meta vs MatrÃ­culas vs FrequÃªncia</div>
      <div class="chart-sub">Comparativo por unidade â€” valores absolutos</div>
      <canvas id="barChart" height="240"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">Taxa de FrequÃªncia (% da Meta)</div>
      <div class="chart-sub">FrequÃªncia realizada Ã· Meta convÃªnio Ã— 100</div>
      <canvas id="radarChart" height="240"></canvas>
    </div>
  </div>

  <div class="table-card" style="margin-bottom:20px">
    <div class="table-header">
      <div class="table-title">Performance Detalhada por Unidade</div>
      <div class="table-sub">Dados consolidados Â· 1Âº Semestre 2026</div>
    </div>
    <table>
      <thead>
        <tr>
          <th>Unidade</th>
          <th class="right">Meta</th>
          <th class="right">MatrÃ­culas</th>
          <th class="right">FrequÃªncia</th>
          <th>Atingimento da Meta</th>
          <th class="right">Saldo</th>
          <th class="right">Status</th>
        </tr>
      </thead>
      <tbody id="mainTable"></tbody>
    </table>
  </div>

  <div class="section-header">
    <div class="section-title">DistribuiÃ§Ã£o por HorÃ¡rio</div>
    <div class="section-line"></div>
    <div class="section-badge">Sede + MetrÃ´</div>
  </div>

  <div class="horario-grid">
    
    <div class="horario-card">
      <div class="horario-badge badge-manha">â˜€ ManhÃ£</div>
      <div class="horario-nums">
        <div>
          <div class="h-val" style="color:var(--accent)">697</div>
          <div class="h-label">MatrÃ­culas</div>
        </div>
        <div style="text-align:right">
          <div class="h-meta">META: 440</div>
          <div class="h-meta">CEDESP 1â€“7: 554</div>
          <div class="h-meta">CEDESP 8: 143</div>
        </div>
      </div>
      <div class="prog-wrap">
        <div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--accent)"></div></div>
        <div class="prog-pct" style="color:var(--accent)">+58%</div>
      </div>
    </div>
    
    <div class="horario-card">
      <div class="horario-badge badge-tarde">ðŸŒ¤ Tarde</div>
      <div class="horario-nums">
        <div>
          <div class="h-val" style="color:var(--accent2)">763</div>
          <div class="h-label">MatrÃ­culas</div>
        </div>
        <div style="text-align:right">
          <div class="h-meta">META: 600</div>
          <div class="h-meta">CEDESP 1â€“7: 613</div>
          <div class="h-meta">CEDESP 8: 150</div>
        </div>
      </div>
      <div class="prog-wrap">
        <div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--accent2)"></div></div>
        <div class="prog-pct" style="color:var(--accent2)">+27%</div>
      </div>
    </div>
    
    <div class="horario-card">
      <div class="horario-badge badge-noite">ðŸŒ™ Noite</div>
      <div class="horario-nums">
        <div>
          <div class="h-val" style="color:var(--purple)">989</div>
          <div class="h-label">MatrÃ­culas</div>
        </div>
        <div style="text-align:right">
          <div class="h-meta">META: 760</div>
          <div class="h-meta">CEDESP 1â€“7: 989</div>
          <div class="h-meta">CEDESP 8: 0</div>
        </div>
      </div>
      <div class="prog-wrap">
        <div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--purple)"></div></div>
        <div class="prog-pct" style="color:var(--purple)">+30%</div>
      </div>
    </div>
  </div>

  <div class="section-header">
    <div class="section-title">MatrÃ­culas Ã— Cursos Oferecidos</div>
    <div class="section-line"></div>
    <div class="section-badge">SeleÃ§Ã£o de Cursos</div>
  </div>

  <div class="two-col">
    <div class="chart-card">
      <div class="chart-title">MatrÃ­culas por Unidade â€” Donut</div>
      <div class="chart-sub">ParticipaÃ§Ã£o de cada CEDESP no total geral</div>
      <canvas id="donutChart" height="260"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">Saldo de FrequÃªncia por Unidade</div>
      <div class="chart-sub">DiferenÃ§a entre frequÃªncia realizada e meta convÃªnio</div>
      <canvas id="saldoChart" height="260"></canvas>
    </div>
  </div>

</main>

<footer>
  <div class="footer-text">CEDESP Dom Bosco Itaquera Â· 1Âº Semestre 2026 Â· Dashboard de Acompanhamento</div>
  <div class="footer-text">Atualizado em 26/02/2026 Ã s 10:52 Â· FrequÃªncia excluindo 30/01 (dia opcional)</div>
</footer>

<script>
  const units = [{"unit": "CEDESP 1", "meta": 240, "matr": 335, "freq": 296.0, "saldo": 56.0}, {"unit": "CEDESP 2", "meta": 280, "matr": 341, "freq": 268.0, "saldo": -12.0}, {"unit": "CEDESP 3", "meta": 240, "matr": 280, "freq": 155.0, "saldo": -85.0}, {"unit": "CEDESP 4", "meta": 240, "matr": 327, "freq": 269.0, "saldo": 29.0}, {"unit": "CEDESP 5", "meta": 280, "matr": 351, "freq": 260.0, "saldo": -20.0}, {"unit": "CEDESP 6", "meta": 200, "matr": 277, "freq": 209.0, "saldo": 9.0}, {"unit": "CEDESP 7", "meta": 240, "matr": 245, "freq": 157.0, "saldo": -83.0}, {"unit": "CEDESP 8", "meta": 160, "matr": 293, "freq": 203.0, "saldo": 43.0}];

  const COLORS = [
    '#21438e','#3a6bc4','#5a89d4','#e63827',
    '#bc8cff','#ff7b72','#56d364','#79c0ff'
  ];

  // â”€â”€ TABLE â”€â”€
  const tbody = document.getElementById('mainTable');
  units.forEach((u, i) => {
    const pct = ((u.freq / u.meta) * 100).toFixed(1);
    const pctNum = parseFloat(pct);
    const fillColor = pctNum >= 100 ? '#1a7a3e' : pctNum >= 85 ? '#c97c1a' : '#e63827';
    const fillW = Math.min(pctNum, 100);
    const saldoClass = u.saldo >= 0 ? 'pos' : 'neg';
    const saldoSign = u.saldo >= 0 ? '+' : '';
    const status = u.freq >= u.meta ? 'âœ“ Atingiu' : 'âœ— Abaixo';
    const statusColor = u.freq >= u.meta ? '#1a7a3e' : '#e63827';
    tbody.innerHTML += `
      <tr>
        <td><div class="unit-name"><div class="unit-dot" style="background:${COLORS[i]}"></div>${u.unit}</div></td>
        <td class="right mono">${u.meta}</td>
        <td class="right mono">${u.matr}</td>
        <td class="right mono">${u.freq}</td>
        <td>
          <div class="prog-wrap">
            <div class="prog-bar" style="max-width:160px">
              <div class="prog-fill" style="width:${fillW}%;background:${fillColor}"></div>
            </div>
            <div class="prog-pct" style="color:${fillColor}">${pct}%</div>
          </div>
        </td>
        <td class="right"><span class="saldo-pill ${saldoClass}">${saldoSign}${u.saldo}</span></td>
        <td class="right" style="font-size:12px;color:${statusColor};font-weight:600">${status}</td>
      </tr>`;
  });

  // â”€â”€ CHARTS â”€â”€
  Chart.defaults.color = '#5c6b8a';
  Chart.defaults.font.family = "'Poppins', sans-serif";
  Chart.defaults.borderColor = '#30363d';

  const gridOpts = { color: 'rgba(0,0,0,0.07)', drawBorder: false };

  new Chart(document.getElementById('barChart'), {
    type: 'bar',
    data: {
      labels: units.map(u => u.unit),
      datasets: [
        { label: 'Meta', data: units.map(u => u.meta),
           backgroundColor: 'rgba(251,191,36,0.30)', borderColor: '#f59e0b',
           borderWidth: 1.5, borderRadius: 4 },
        { label: 'MatrÃ­culas', data: units.map(u => u.matr),
           backgroundColor: 'rgba(99,179,237,0.75)', borderColor: '#3b82f6',
           borderWidth: 1, borderRadius: 4 },
        { label: 'FrequÃªncia', data: units.map(u => u.freq),
           backgroundColor: 'rgba(52,211,153,0.75)', borderColor: '#10b981',
           borderWidth: 1, borderRadius: 4 },
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { position: 'top', labels: { boxWidth: 12, padding: 16 } },
        tooltip: { backgroundColor: '#1a2340', borderColor: '#d0d8ea', borderWidth: 1, titleColor:'#ffffff', bodyColor:'#d0d8ea' }
      },
      scales: {
        x: { grid: gridOpts, ticks: { font: { size: 11 } } },
        y: { grid: gridOpts, ticks: { font: { size: 11 } } }
      }
    }
  });

  new Chart(document.getElementById('radarChart'), {
    type: 'radar',
    data: {
      labels: units.map(u => u.unit),
      datasets: [
        { label: 'Freq/Meta %',
           data: units.map(u => +((u.freq / u.meta) * 100).toFixed(1)),
           backgroundColor: 'rgba(99,102,241,0.20)', borderColor: '#6366f1',
           pointBackgroundColor: '#6366f1', pointBorderColor: '#ffffff',
           pointRadius: 4, borderWidth: 2 },
        { label: 'ReferÃªncia 100%',
           data: Array(8).fill(100),
           backgroundColor: 'rgba(251,191,36,0.06)', borderColor: 'rgba(251,191,36,0.7)',
           borderDash: [5,3], pointRadius: 0, borderWidth: 1.5 }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { position: 'top', labels: { boxWidth: 12, padding: 16 } },
        tooltip: { backgroundColor: '#1a2340', borderColor: '#d0d8ea', borderWidth: 1, titleColor:'#ffffff', bodyColor:'#d0d8ea' }
      },
      scales: {
        r: {
          min: 50, max: 130,
          ticks: { backdropColor: 'transparent', font: { size: 10 }, stepSize: 20 },
          grid: { color: 'rgba(0,0,0,0.07)' },
          pointLabels: { font: { size: 11 } }
        }
      }
    }
  });

  new Chart(document.getElementById('donutChart'), {
    type: 'doughnut',
    data: {
      labels: units.map(u => u.unit),
      datasets: [{
        data: units.map(u => u.matr),
        backgroundColor: COLORS.map(c => c + 'cc'),
        borderColor: COLORS,
        borderWidth: 2,
        hoverOffset: 6,
      }]
    },
    options: {
      responsive: true,
      cutout: '62%',
      plugins: {
        legend: { position: 'right', labels: { boxWidth: 12, padding: 12, font: { size: 11 } } },
        tooltip: { backgroundColor: '#1a2340', borderColor: '#d0d8ea', borderWidth: 1, titleColor:'#ffffff', bodyColor:'#d0d8ea' }
      }
    }
  });

  new Chart(document.getElementById('saldoChart'), {
    type: 'bar',
    data: {
      labels: units.map(u => u.unit),
      datasets: [{
        label: 'Saldo (Freq âˆ’ Meta)',
        data: units.map(u => u.saldo),
        backgroundColor: units.map(u => u.saldo >= 0 ? 'rgba(26,122,62,0.65)' : 'rgba(230,56,39,0.65)'),
        borderColor: units.map(u => u.saldo >= 0 ? '#1a7a3e' : '#e63827'),
        borderWidth: 1.5, borderRadius: 4,
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false },
        tooltip: { backgroundColor: '#1a2340', borderColor: '#d0d8ea', borderWidth: 1, titleColor:'#ffffff', bodyColor:'#d0d8ea' }
      },
      scales: {
        x: { grid: gridOpts, ticks: { font: { size: 11 } } },
        y: { grid: gridOpts, ticks: { font: { size: 11 } }, border: { dash: [4,4] } }
      }
    }
  });
</script>
</body>
</html>
